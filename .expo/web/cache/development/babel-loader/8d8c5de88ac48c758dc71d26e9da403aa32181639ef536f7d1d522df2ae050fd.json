{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport AnimalCard from \"./animalCard\";\nimport Icon from \"@expo/vector-icons/Ionicons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AnimalList = function AnimalList(_ref) {\n  var animals = _ref.animals;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    displayedAnimals = _useState2[0],\n    setDisplayedAnimals = _useState2[1];\n  var _useState3 = useState(1),\n    _useState4 = _slicedToArray(_useState3, 2),\n    currentPage = _useState4[0],\n    setCurrentPage = _useState4[1];\n  var itemsPerPage = 6;\n  var totalPages = Math.ceil(animals.length / itemsPerPage);\n  useEffect(function () {\n    loadCurrentPageAnimals();\n  }, []);\n  var loadCurrentPageAnimals = function loadCurrentPageAnimals() {\n    var startIndex = (currentPage - 1) * itemsPerPage;\n    var endIndex = startIndex + itemsPerPage;\n    var newAnimals = animals.slice(startIndex, endIndex);\n    setDisplayedAnimals(newAnimals);\n  };\n  var handlePreviousPage = function handlePreviousPage() {\n    if (currentPage > 1) {\n      setCurrentPage(function (prevPage) {\n        return prevPage - 1;\n      });\n    }\n  };\n  var handleNextPage = function handleNextPage() {\n    if (currentPage < totalPages) {\n      setCurrentPage(function (prevPage) {\n        return prevPage + 1;\n      });\n    }\n  };\n  useEffect(function () {\n    loadCurrentPageAnimals();\n  }, [currentPage]);\n  useEffect(function () {\n    setCurrentPage(1);\n    loadCurrentPageAnimals();\n  }, [animals]);\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsxs(View, {\n      children: [displayedAnimals.length > 0 ? _jsx(FlatList, {\n        data: displayedAnimals,\n        renderItem: function renderItem(_ref2) {\n          var item = _ref2.item;\n          return _jsx(AnimalCard, {\n            animal: item\n          }, item.id);\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        },\n        numColumns: 2,\n        contentContainerStyle: styles.flatListContent,\n        nestedScrollEnabled: true,\n        scrollEnabled: false\n      }) : _jsx(View, {\n        children: _jsx(Text, {\n          children: \"Aucun animal\"\n        })\n      }), displayedAnimals.length > 0 ? _jsxs(View, {\n        style: styles.paginationContainer,\n        children: [_jsx(TouchableOpacity, {\n          style: styles.paginationButton,\n          onPress: handlePreviousPage,\n          disabled: currentPage === 1,\n          children: _jsx(Icon, {\n            name: \"chevron-back-outline\",\n            size: 24,\n            color: \"#000\"\n          })\n        }), _jsxs(Text, {\n          style: styles.paginationText,\n          children: [currentPage, \" / \", totalPages]\n        }), _jsx(TouchableOpacity, {\n          style: styles.paginationButton,\n          onPress: handleNextPage,\n          disabled: currentPage === totalPages,\n          children: _jsx(Icon, {\n            name: \"chevron-forward-outline\",\n            size: 24,\n            color: \"#000\"\n          })\n        })]\n      }) : null]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingHorizontal: 20,\n    paddingTop: 20,\n    paddingBottom: 50\n  },\n  flatListContent: {\n    paddingBottom: 20\n  },\n  paginationContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: 'center',\n    marginTop: 10,\n    paddingBottom: 40\n  },\n  paginationButton: {\n    backgroundColor: \"transparent\",\n    paddingVertical: 8,\n    paddingHorizontal: 12,\n    borderRadius: 4,\n    marginHorizontal: 5\n  },\n  paginationButtonText: {\n    color: \"#fff\",\n    fontSize: 16,\n    fontWeight: \"bold\"\n  },\n  paginationText: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    marginHorizontal: 5\n  }\n});\nexport default AnimalList;","map":{"version":3,"names":["React","useState","useEffect","FlatList","Text","View","StyleSheet","TouchableOpacity","SafeAreaView","AnimalCard","Icon","jsx","_jsx","jsxs","_jsxs","AnimalList","_ref","animals","_useState","_useState2","_slicedToArray","displayedAnimals","setDisplayedAnimals","_useState3","_useState4","currentPage","setCurrentPage","itemsPerPage","totalPages","Math","ceil","length","loadCurrentPageAnimals","startIndex","endIndex","newAnimals","slice","handlePreviousPage","prevPage","handleNextPage","style","styles","container","children","data","renderItem","_ref2","item","animal","id","keyExtractor","numColumns","contentContainerStyle","flatListContent","nestedScrollEnabled","scrollEnabled","paginationContainer","paginationButton","onPress","disabled","name","size","color","paginationText","create","flex","paddingHorizontal","paddingTop","paddingBottom","flexDirection","justifyContent","alignItems","marginTop","backgroundColor","paddingVertical","borderRadius","marginHorizontal","paginationButtonText","fontSize","fontWeight"],"sources":["C:/Users/Benoitm/Documents/Coding/Kappze/MyKappze/src/components/animals/animalList.tsx"],"sourcesContent":["// // AnimalList.tsx\r\n// import React, { useState, useCallback } from 'react';\r\n// import { FlatList, Text, View, StyleSheet } from 'react-native';\r\n// import AnimalCard from './animalCard';\r\n\r\n// interface Animal {\r\n//   id: string;\r\n//   name: string;\r\n//   image?: string;\r\n//   sex: string;\r\n//   isMother: boolean;\r\n//   citySectorName: string;\r\n//   sectorName: string;\r\n// }\r\n\r\n// interface AnimalListProps {\r\n//   animals: Animal[];\r\n// }\r\n\r\n// const AnimalList: React.FC<AnimalListProps> = ({ animals }) => {\r\n//   const [displayedAnimals, setDisplayedAnimals] = useState<Animal[]>([]);\r\n//   const [currentPage, setCurrentPage] = useState(1);\r\n//   const itemsPerPage = 2;\r\n// //   console.log(displayedAnimals)\r\n\r\n//   const loadMoreAnimals = useCallback(() => {\r\n//     const newAnimals = animals.slice(0, (currentPage + 1) * itemsPerPage);\r\n//     setDisplayedAnimals(newAnimals);\r\n//     setCurrentPage(currentPage + 1);\r\n//   }, [animals, currentPage]);\r\n\r\n//   return (\r\n//     <FlatList\r\n//       data={animals}\r\n//       renderItem={({ item }) => <AnimalCard key={item.id} animal={item} />}\r\n//       keyExtractor={item => item.id}\r\n//       onEndReached={loadMoreAnimals}\r\n//       onEndReachedThreshold={0.1}\r\n//     />\r\n//   );\r\n// };\r\n\r\n// export default AnimalList;\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {\r\n  FlatList,\r\n  Text,\r\n  View,\r\n  StyleSheet,\r\n  TouchableOpacity,\r\n  SafeAreaView,\r\n} from \"react-native\";\r\nimport AnimalCard from \"./animalCard\";\r\nimport Icon from \"react-native-vector-icons/Ionicons\";\r\n\r\ninterface Animal {\r\n  id: string;\r\n  name: string;\r\n  image?: string;\r\n  sex: string;\r\n  isMother: boolean;\r\n  citySectorName: string;\r\n  sectorName: string;\r\n}\r\n\r\ninterface AnimalListProps {\r\n  animals: Animal[];\r\n}\r\n\r\nconst AnimalList: React.FC<AnimalListProps> = ({ animals }) => {\r\n  const [displayedAnimals, setDisplayedAnimals] = useState<Animal[]>([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const itemsPerPage = 6;\r\n  const totalPages = Math.ceil(animals.length / itemsPerPage);\r\n\r\n  // console.log(displayedAnimals)\r\n  useEffect(() => {\r\n    loadCurrentPageAnimals();\r\n  }, []);\r\n\r\n  const loadCurrentPageAnimals = () => {\r\n    const startIndex = (currentPage - 1) * itemsPerPage;\r\n    const endIndex = startIndex + itemsPerPage;\r\n    const newAnimals = animals.slice(startIndex, endIndex);\r\n    setDisplayedAnimals(newAnimals);\r\n  };\r\n\r\n  const handlePreviousPage = () => {\r\n    if (currentPage > 1) {\r\n      setCurrentPage((prevPage) => prevPage - 1);\r\n    }\r\n  };\r\n\r\n  const handleNextPage = () => {\r\n    if (currentPage < totalPages) {\r\n      setCurrentPage((prevPage) => prevPage + 1);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadCurrentPageAnimals();\r\n  }, [currentPage]);\r\n\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n    loadCurrentPageAnimals();\r\n  }, [animals]);\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <View>\r\n      {/* <SafeAreaView style={{flex: 1}}> */}\r\n      {displayedAnimals.length > 0 ? (\r\n        <FlatList\r\n          data={displayedAnimals}\r\n          renderItem={({ item }) => <AnimalCard key={item.id} animal={item} />}\r\n          keyExtractor={(item) => item.id}\r\n          numColumns={2}\r\n          contentContainerStyle={styles.flatListContent}\r\n          nestedScrollEnabled={true}\r\n          scrollEnabled={false}\r\n        />\r\n      ) : (\r\n        <View>\r\n          <Text>Aucun animal</Text>\r\n        </View>\r\n      )}\r\n      {displayedAnimals.length > 0 ? (\r\n        <View style={styles.paginationContainer}>\r\n          <TouchableOpacity\r\n            style={styles.paginationButton}\r\n            onPress={handlePreviousPage}\r\n            disabled={currentPage === 1}\r\n          >\r\n            {/* <Text style={styles.paginationButtonText}>Précédent</Text> */}\r\n            <Icon name={\"chevron-back-outline\"} size={24} color=\"#000\" />\r\n          </TouchableOpacity>\r\n          <Text style={styles.paginationText}>\r\n            {currentPage} / {totalPages}\r\n          </Text>\r\n          <TouchableOpacity\r\n            style={styles.paginationButton}\r\n            onPress={handleNextPage}\r\n            disabled={currentPage === totalPages}\r\n          >\r\n            {/* <Text style={styles.paginationButtonText}>Suivant</Text> */}\r\n            <Icon name={\"chevron-forward-outline\"} size={24} color=\"#000\" />\r\n          </TouchableOpacity>\r\n        </View>\r\n      ) : null}\r\n      {/* </SafeAreaView> */}\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    paddingHorizontal: 20,\r\n    paddingTop: 20,\r\n    paddingBottom: 50\r\n  },\r\n  flatListContent: {\r\n    paddingBottom: 20,\r\n  },\r\n  paginationContainer: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n    // marginBottom: 20,\r\n    paddingBottom: 40\r\n  },\r\n  paginationButton: {\r\n    backgroundColor: \"transparent\",\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 12,\r\n    borderRadius: 4,\r\n    marginHorizontal: 5,\r\n  },\r\n  paginationButtonText: {\r\n    color: \"#fff\",\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n  },\r\n  paginationText: {\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n    marginHorizontal: 5,\r\n  },\r\n});\r\n\r\nexport default AnimalList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}